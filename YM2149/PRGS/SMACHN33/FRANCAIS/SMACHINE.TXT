  /---
  |
  |                    S o u n d   M a c h i n e   I I I

                          -thenewgenerationofplayerzz-                      |
                                                                            |
                                                                         ---/

=========| Sommaire |===========================================================

1. Rapide description de Sound Machine III
2. Pr‚sentation de la boŒte de dialogue principale
3. Informations techniques, bugs et limitations

=========| Partie 1 |===========================================================

     Sound Machine est un player de soundchips. Il devrait fonctionner sur tous
types d'Atari (sur les 520 STF/STE, il est pr‚f‚rable de d‚marrer l'ordinateur
avec le moins de logiciels possible en m‚moire). Ce logiciel a ‚t‚ test‚ sur un
STE gonfl‚ … 4 Mo ainsi que sur un Falcon 030 en mode VGA. Il fonctionnera sans
doute sur STF, Mega ST et Mega STE. Le TT ainsi que les cl“nes peuvent poser des
problŠmes avec les formats de musique qui ne marchent pas sur Falcon.

     Encore un autre player ? Oui, mais celui-ci est diff‚rent. Tout d'abord, il
utilise l'environnement GEM, ce qui le rend utilisable dans toutes les r‚solu-
tions et dans tous les systŠmes d'exploitation monotƒche (et non pas multitƒche
… cause d'un bug du GFA). Il est particuliŠrement ergonomique et simple d'emploi
mˆme pour une personne qui ne connaŒt pas grand chose aux soundchips. De plus,
Sound Machine est le seul logiciel qui permet de jouer des soundchips dont
l'origine est inconnue en ajustant les diff‚rents paramŠtres. Bien entendu, il
est possible de sauvegarder ces musiques inconnues dans un format directement
lisible par Sound Machine. Sound Machine III est entiŠrement compatible avec les
fichiers g‚n‚r‚s par son pr‚d‚cesseur Sound Machine 2.5. Et ce n'est qu'une
partie des possibilit‚s de Sound Machine.

     Qu'est-ce qu'un soundchip ? Il s'agit d'une musique utilisant les sons syn-
th‚tiques du coprocesseur sonore Yamaha, sur 3 voies. Certaines musiques utili-
sent des sons digitalis‚s, pour la batterie par exemple : ce sont des digidrums
(ou halftracks). D'autres musiques reprennent la particularit‚ sonore du C 64 :
ce sont des musiques Sid-Voice.

=========| Partie 2 |===========================================================

     La boŒte de dialogue principale peut ˆtre divis‚e en 3 partie : les infor-
mations sur les fichiers, les paramŠtres et les boutons.

* Les 3 premiŠres lignes donnent quelques informations utiles comme le nom du
fichier ou encore sa taille. En dessous, vous trouverez une courte description
d'une ou deux lignes sur le fichier ‚ventuellement charg‚ en m‚moire (format,
auteur, infos compl‚mentaires, etc.).

* Les paramŠtres sont nombreux, je vais les d‚tailler un par un :
  - 1st init : il s'agit du premier offset pour initialiser les musiques.
  - 2nd init : un second offset pour les ‚ventuelles musiques digidrums.
  - Play : l'offset principal qui va jouer la musique … chaque appel VBL.
  - 1st stop : le premier offset pour arrˆter la musique.
  - 2nd stop : le second pour arrˆter les musiques digidrums (facultatif).
  Vous remarquerez qu'il est possible de (d‚)s‚lectionner un bouton en face de
  "2nd init" et "2nd stop". Cela signifie que vous pouvez d‚cider de ne pas
  appeler l'un ou l'autre (ou les deux) de ces offsets. Ils sont surtout utili-
  s‚s pour les musiques digidrums.
IMPORTANT : si vous n'y connaissez rien, ‚vitez de trop changer ces paramŠtres
sous peine de faire planter Sound Machine.
  - Music number at the beginning : il arrive d'un fichier comporte plusieurs
  musiques. Les valeurs accept‚es vont de -1 … 15.
  - Music number at the end : lorsqu'une musique se termine, il arrive que la
  routine aie besoin d'un num‚ro de musique particulier (exemple : -1 pour le
  format Lotus).
  - Several musics in the file : comme il a ‚t‚ vu pr‚c‚demment, un fichier peut
  trŠs bien comporter plusieurs musiques. Si cette option est activ‚e, il vous
  sera possible d'appuyer sur les boutons "+" et "-" lorsque la musique jouera
  pour changer de m‚lodie. Bon nombre de formats n'acceptent pas cette possibi-
  lit‚ et plantent, faŒtes l… aussi attention. A noter qu'avec les touches "+"
  et "-", vous pourrez cette fois aller de 0 … 31. Attention aux plantages !
  - This music should run on Falcon : si vous avez un ST, laissez cette option
  d‚sactiv‚e. Si vous avez un Falcon, n'activez cette option que si vous ˆtes
  s–r et certain que la musique en m‚moire va fonctionner dessus. De toutes fa-
  ‡ons, … chaque fois qu'un fichier est charg‚, Sound Machine va v‚rifier si la
  musique en question peut effectivement "fonctionner" sur Falcon.

* Les boutons sont eux aussi nombreux :
  - LOAD : tout simplement pour charger un fichier en m‚moire. Sound Machine va
  tenter d'identifier le format du fichier d'aprŠs 72 formats reconnus. S'il le
  reconnaŒt, il va afficher les paramŠtres de ce dernier dans la boŒte de dialo-
  gue principale afin de les modifier ‚ventuellement.
  - PLAY : permet de jouer la musique. Si le format est inconnu, Sound Machine
  vous demande si vous voulez jouer la musique d'aprŠs les paramŠtres pr‚sents
  dans la boŒte de dialogue principale. Si vous poss‚dez un Falcon et que la
  musique ne peut pas ˆtre jou‚e dessus, vous aurez tout de mˆme la possibilit‚
  de forcer l'ex‚cution de la musique (si, par exemple, vous utilisez Backward).
  De plus, tous les formats reconnus ne seront pas forc‚ment jou‚s, c'est le cas
  notament des soundtracks et des samples. En effet, Sound Machine a ‚t‚ pro-
  gramm‚ en GFA et il existe de bien meilleurs players pour ces fichiers (le
  MegaTracker Player ou Paula pour les soundtracks, BackGround Player ou SAM
  pour les samples).
  - SAVE : le fichier en m‚moire va ˆtre sauv‚.
  - See header : permet de voir les 200 premiers octets du fichier en m‚moire.
  - Convert & save : le fichier actuellement en m‚moire va ˆtre converti au
  format Sound Machine III puis sauvegard‚ sur disque.
  - About : quelques informations sur le programme.
  - Options : permet d'avoir quelques informations utiles (type d'ordinateur au
  cas o— vous utiliseriez un ‚mulateur, m‚moire disponible et occup‚e) ainsi que
  de param‚trer le logiciel. Vous pouvez faire en sorte que Sound Machine vous
  demande une confirmation avant de jouer tout type de musique qui soit inconnu.
  Il vaut mieux laisser cette option activ‚e si vous n'y connaissez rien en
  soundchips. La seconde option consiste … d‚finir la taille de la m‚moire r‚-
  serv‚e pour le GEM. Cette derniŠre option ne sera bien s–r activ‚e qu'au pro-
  chain d‚marrage de Sound Machine, du moins si vous sauvegardez les options
  auparavant.
  - Extract & save : lorsque Sound Machine convertit une musique au format
  interne, il se contente de rajouter quelques octets au fichier d'origine.
  Cette option va vous permettre de faire l'inverse et va donc enlever ces
  octets et sauvegarder le fichier ainsi obtenu.
  - Exit : pour quitter le logiciel. Aucune confirmation ne sera demand‚e.

=========| Partie 3 |===========================================================

     Pour ˆtre jou‚, un soundchip contient g‚n‚ralement au d‚but du fichier une
routine devant ˆtre appel‚e … chaque rafraŒchissement d'‚cran (… chaque VBL).
A chaque VBL, l'Atari va voir dans une liste quelles sont les routines … ex‚cu-
ter. Or, il ne peut y avoir que 8 routines au maximum. Ainsi, lorsque vous d‚-
marrez Sound Machine, il va scruter cette liste VBL et, s'il y a un emplacement
libre, il va le noter et s'en servir pour rejouer plus tard les soundchips. S'il
n'y a plus de place, vous retournerez au bureau GEM. FaŒtes-y attention si vous
tenez … utiliser Sound Machine dans un environnement multitƒche. Il y a un pro-
blŠme en jouant les musiques … la VBL : si votre ‚cran n'est pas en mode 50 Hz
(moniteur VGA, monochrome...), les musiques ne seront pas jou‚es … la bonne
vitesse. Pour pallier ce problŠme, il faudrait faire appel au Timer A du MFP et
non plus … la VBL, mais je ne sais pas programmer le MFP en GFA... avis aux
amateurs !

     Un petit mot sur les bugs. J'ai programm‚ la version 3.0 en reprenant les
proc‚dures et les routines de la version pr‚c‚dente (2.5á). Bien que j'ai ‚t‚
trŠs vigilant, il se peut qu'il y ait quelques bugs, d'autant plus que tout a
‚t‚ torch‚ en quelques soir‚es... Si vous en trouvez, merci de me dire comment
cela s'est d‚roul‚.

     J'ai r‚cemment remarqu‚ que les musiques au format Millenium Brothers sont
un peu particuliŠres... cliquez sur "Several musics in the file" avant de jouer
la musique, tapez sur "-" et enfin cliquez sur "Play". Autre problŠme, qui n'ap-
paraŒt que sur Falcon avec Backward: aprŠs une musique Count Zero, votre machine
va planter si vous voulez charger un autre fichier ou quitter le logiciel. Je ne
sais pas … quoi est d– ce bug...

     Quant aux limitations, on ne peut malheureusement pas lancer Sound Machine
en accessoire. Enfin si, vous pouvez th‚oriquement le faire, mais vous ne pour-
rez vous en servir qu'une seule fois car RIEN n'a ‚t‚ pr‚vu pour. Impossible de
s'en servir en tƒche de fond puisque sa boŒte de dialogue bloquante empˆche tout
multitƒche. La raison … cela est qu'il s'agit de soundchips, dont la manipula-
tion doit ˆtre faite avec le plus grand soin pour ne pas planter tout le systŠme
(contrairement aux samples et aux soundtracks).


                                                 Fin de la doc - Bon amusement !
